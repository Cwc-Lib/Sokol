fips_begin_lib(osxentry)
    fips_files(osxentry.m osxentry.h)
    if (FIPS_MACOS)
        fips_frameworks_osx(Cocoa Metal MetalKit QuartzCore)
    else()
        fips_frameworks_osx(Metal MetalKit)
    endif()
fips_end_lib()

fips_begin_lib(sokol_gfx)
    fips_files(sokol_gfx.m)
    if (FIPS_MACOS)
        fips_frameworks_osx(Cocoa Metal MetalKit QuartzCore)
    else()
        fips_frameworks_osx(Metal MetalKit)
    endif()
fips_end_lib()

fips_begin_app(clear-metal windowed)
    fips_files(clear-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(triangle-metal windowed)
    fips_files(triangle-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(quad-metal windowed)
    fips_files(quad-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(cube-metal windowed)
    fips_files(cube-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(texcube-metal windowed)
    fips_files(texcube-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(offscreen-metal windowed)
    fips_files(offscreen-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(mrt-metal windowed)
    fips_files(mrt-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(instancing-metal windowed)
    fips_files(instancing-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(arraytex-metal windowed)
    fips_files(arraytex-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(imgui-metal windowed)
    fips_files(imgui-metal.cc)
    fips_deps(osxentry sokol_gfx imgui)
fips_end_app()

fips_begin_app(dyntex-metal windowed)
    fips_files(dyntex-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(binshader-metal windowed)
    fips_files(binshader-metal.c)
    if (FIPS_MACOS)
        fips_files(binshader-metal-macosx.h)
    elseif (FIPS_IOS)
        fips_files(binshader-metal-iphoneos.h)
    endif()
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(mipmap-metal windowed)
    fips_files(mipmap-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(blend-metal windowed)
    fips_files(blend-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(inject-metal windowed)
    fips_files(inject-metal.mm)
    fips_deps(osxentry)
fips_end_app()

fips_begin_app(releasetest-metal windowed)
    fips_files(releasetest-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(bufferoffsets-metal windowed)
    fips_files(bufferoffsets-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()

fips_begin_app(noninterleaved-metal windowed)
    fips_files(noninterleaved-metal.c)
    fips_deps(osxentry sokol_gfx)
fips_end_app()